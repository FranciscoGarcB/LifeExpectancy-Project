<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Expectancy Project</title>

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="../Icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../Icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../Icons/favicon-16x16.png">
    <link rel="manifest" href="../Icons/site.webmanifest">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Custom styles -->
    <link rel="stylesheet" href="../style.css">

    <!-- Frameworks -->
    <script crossorigin="anonymous" src="https://d3js.org/d3.v6.min.js"></script>

    <!-- Custom fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fjalla+One&family=Merriweather+Sans:wght@700&family=Merriweather&display=swap" rel="stylesheet">
    
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" style="background-color: #788082 !important;">
        <a class="navbar-brand" href="../index.html" id="topTitle">Data Visualization</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../index.html""> About <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="visualizations.html">Visualizations</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="conclusion.html">Conclusion</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Page content -->
    <h1> Life expectancy </h1>
    <div id="tooltip"></div>
    <div class="container mt-5">
        <section id="Schart1">
            <h2>By country</h2>
            <p>
                <b> Choropleth map </b> of life expectancy around the world with 
                <b> linechart </b> tooltip of the evolution of life expectancy of the country over the years.
                Some countries are not included on the dataset (greyed out on the map).
            </p>
            <div id="chart1" class="chart-container">
                
            </div>
        </section>

        <section id="Schart2">
            <h2></h2>
            <p>
                Different buttons to see the countries with most and least life expectancy each year.
                The show all button makes the chart container scrollable to make it possible to 
                see all countries. A tooltip show the exact life expectancy and also important 
                information of social factors of the country. Bars are divided by 
                <b><span style="color: #3081D0;">developed</span></b> and <b><span style="color: #7E1717;">developing</span></b>
                status.
            </p>
            <div id="chart2" class="chart-container scrollable">
                <div class="radio-button-container">
                    <input type="radio" id="top10" name="filter" value="top10" class="hidden-radio">
                    <label for="top10" class="button-4">Top 10</label>
                  </div>
                  
                  <div class="radio-button-container">
                    <input type="radio" id="bottom10" name="filter" value="bottom10" class="hidden-radio">
                    <label for="bottom10" class="button-4">Bottom 10</label>
                  </div>
                  
                  <div class="radio-button-container">
                    <input type="radio" id="showAll" name="filter" value="showAll" class="hidden-radio">
                    <label for="showAll" class="button-4">Show All</label>
                  </div>
                  
            </div>
        </section>

        <section id="Schart3">
            <h2>By Status</h2>
            <p>
                <b> Box plots </b> of developing and developed countries lifes expectancy.
                This type of visualization is very useful to see the distribution and statistics
                of the life expectancy of different groups (on this case the status).
            </p>
            <div id="chart3" class="chart-container">
            </div>
        </section>

        <section id="Schart4">
            <p>
                <b> Bubble chart </b> to visualize relations between life expectancy and 
                different factors. The bigger the bubble, the bigger the population.
            </p>
            <div id="chart4" class="chart-container">
                <select class="styled-select" id="selectFactor">
                    <option value="ICR">Income composition of resources</option>
                    <option value="GDP">GDP</option>
                    <option value="AdultMortality">Adult Mortality</option>
                    <option value="InfantDeaths">Infant deaths</option>
                    <option value="Alcohol">Alcohol</option>
                    <option value="HepB">Hepatitis B</option>
                    <option value="Polio">Polio</option>
                    <option value="HIV">HIV/AIDS</option>
                    <option value="PercExpend">Percentage expenditure</option>
                    <option value="TotalExpend">Total expenditure</option>
                </select>
            </div>
        </section>

        <section id="Schart5">
            <h2>Viz 5</h2>
            <p>
               <b>Waffle charts</b> of each continent to see the distribution of the life expectancy. 
            </p>
            <div id="chart5" class="chart-container"></div>
        </section>

        
    </div>

    

    <!-- Footer -->
    <footer>
        <!-- Input for year -->
        <div class="row mb-4" id="fixedDiv">
            <div class="col-12" >
                <label for="yearRange"></label> <span id="selectedYear">2000</span>
                <input type="range" class="custom-range" id="yearRange" min="2000" max="2015" step="1" value="2000">
            </div>
        </div>
        .
    </footer>

    <!-- Bootstrap JS and dependencies (Popper.js) -->
    <script crossorigin="anonymous" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script crossorigin="anonymous" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
    <!-- Show year -->
    <script>
        const yearRange = document.getElementById('yearRange');
        const selectedYear = document.getElementById('selectedYear');

        yearRange.addEventListener('input', function() {
            selectedYear.textContent = yearRange.value;
        });
    </script>

    <!-- Transition to chart containers -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    } else {
                        entry.target.classList.remove('visible');
                    }
                });
            }, {
                threshold: 0.2 
            });

            // Take all chart containers
            document.querySelectorAll('.chart-container').forEach(chart => {
                observer.observe(chart);
            });
        });
    </script>


    <!-- Visualization scripts -->
    <script src="../JavaScript/chart1.js"></script>
    <script src="../JavaScript/chart2.js"></script>
    <script src="../JavaScript/chart3.js"></script>
    <script src="../JavaScript/chart4.js"></script>
    

</body>
</html>
